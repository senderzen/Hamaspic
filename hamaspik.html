<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Address</title>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
		  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
			crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
			integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
			crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
			integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
			crossorigin="anonymous"></script>
</head>

<body class="antialiased">
    <div class="flex justify-center">
        <div class="flex-1 flex justify-center items-center flex-col" id="">
            <div>
                Address
                <ol id="address">
                </ol>

            </div>

        </div>
        <div id="iframe">
            <iframe width="600" height="450" style="border:0" loading="lazy" allowfullscreen
                    referrerpolicy="no-referrer-when-downgrade"
                    src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBi4lWtUAdPAfd4m4B8xVc-yxKzh9_InEk&q=4102 14 ave brooklyn ny 11219">
            </iframe>
        </div>
    </div>
	<div>
	 <input id="file" type="file" accept="text/plain" /> 
	</div>
	</body>
	</html>

	<script>
		var target = document.getElementById("file")
		target.addEventListener("change", function (event) {
			// When the control has changed, there are new files
			var files = target.files;

			const reader = new FileReader();
			reader.readAsText(files[0]);
			reader.onload = function (e) {
				var rawLog = reader.result;
				addresss = rawLog.split(";");


				addresss.forEach(function (address,index) {
					elem = document.createElement("li");

					elem.id = "item" + index;
                    document.getElementById('address').append(elem);
					el = document.createElement('a');
					el.setAttribute('href', '#');
					el.id = 'item';

                    
					el.innerText = address;

                    el.addEventListener("click", function () {
						loadIframe(address);
                    });
					id = 'item' + index;
					document.getElementById(id).append(el);

				});
			};


			"AIzaSyBi4lWtUAdPAfd4m4B8xVc-yxKzh9_InEk"

		}, false);

		function loadIframe(address) {
			iframe = ' <iframe width="600" height="450" style="border:0" loading="lazy" allowfullscreen referrerpolicy="no-referrer-when-downgrade"  src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBi4lWtUAdPAfd4m4B8xVc-yxKzh9_InEk&q='+ address+'"</iframe>';
			console.log(iframe);
			document.getElementById('iframe').innerHTML = iframe;
		}
		;
	</script>
